{% extends 'base.html' %}
{% block content %}
<h1>Steam Games database</h1>

<h2>About</h2>
<p>This web application illustrates the use of the Steam Games
    database. The application is built using 
    <a href="https://docs.python.org/3/library/sqlite3.html">sqlite3</a>,
    <a href="https://flask.palletsprojects.com">Flask</a>, and
    <a href="https://jinja.palletsprojects.com">Jinja</a>.
</p> 


<h2>Some database statistics</h2>

<table>
<tr>
    <th>Items</th>
    <th>Count</th>
</tr>
<tr>
    <td>Games</td>
    <td>{{ stats.n_game }}</td>
</tr>
<tr>
    <td>DLCs</td>
    <td>{{ stats.n_dlc }}</td>
</tr>
<tr>
    <td>Music</td>                  
    <td>{{ stats.n_music }}</td>
</tr>
<tr>
    <td>Product</td>
    <td>{{ stats.n_product }}</td>
</tr>
<tr>
    <td>Kind</td>
    <td>{{ stats.n_kind }}</td>
</tr>
<tr>
    <td>Company</td>
    <td>{{ stats.n_company }}</td>
</tr>
</table>

<h2>Sample functionality</h2>

<h3>Products</h3>
<p><a style = "text-decoration:none" href = "/products">List all</a></p>
<p>Search by title:
<form name="prodinfo" action="javascript:window.open('/products-like/'+document.forms['prodinfo'].elements['text'].value,'_self')">
    <input name="text" id="text" value="Age" required/>
    <input type="submit" value="search"/>
</form>
</p>
<h3>DLCs per Game</h3>
<p><a style = "text-decoration:none" href = "/dlcs-per-game">List all</a></p>

<h3>Musics per Game</h3>
<p><a style = "text-decoration:none" href = "/musics-per-game">List all</a></p>

<h3>Games</h3>
<p><a style = "text-decoration:none" href = "/games">List all</a></p>
<p>Get game info:
<form name="gameForm" action="javascript:window.open('/games/'+document.forms['gameForm'].elements['id'].value,'_self')">
    Game Id:<input value="2900" name="id" type="number" min="1"/><input type="submit" value="get"/>
</form>
</p>


<h3>DLCs</h3>

<p><a style = "text-decoration:none" href = "/dlcs">List all</a></p>
<p>Get dlc info:
<form name="dl" action="javascript:window.open('/dlcs/'+document.forms['dl'].elements['id'].value,'_self')">
    Dlc Id:<input value="8990" name="id" type="number" min="1"/><input type="submit" value="get"/>
</form>
</p>


<h3>Music</h3>

<p><a style = "text-decoration:none" href="/musics">List all</a></p>
<p>Get music info:
<form name="musi" action="javascript:window.open('/musics/'+document.forms['musi'].elements['id'].value,'_self')">
    Music Id:<input value="40407" name="id" type="number" min="1"/><input type="submit" value="get"/>
</form>
</p>

<h3>Companies</h3>

<p><a style = "text-decoration:none" href ="/companies">List all</a></p>
<p>Get company info:
<form name="comp" action="javascript:window.open('/companies/'+document.forms['comp'].elements['id'].value,'_self')">
    Company Id:<input value="78" name="id" type="number" min="1"/><input type="submit" value="get"/>
</form>
</p>


<h3>Kind</h3>

<p><a style = "text-decoration:none" href ="/kinds">List all</a></p>
<p>Get kind info:
<form name="kin" action="javascript:window.open('/kinds/'+document.forms['kin'].elements['id'].value,'_self')">
    Kind Id:<input value="1" name="id" type="number" min="1"/><input type="submit" value="get"/>
</form>
</p>

<button onclick="topFunction()" id="myBtn" title="Go to top"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-up" viewBox="0 0 16 16">
    <path fill-rule="evenodd" d="M8 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 2.707V14.5a.5.5 0 0 0 .5.5"/>
  </svg></button>

<script>
    // Get the button
    let mybutton = document.getElementById("myBtn");
    
    // When the user scrolls down 20px from the top of the document, show the button
    window.onscroll = function() {scrollFunction()};
    
    function scrollFunction() {
      if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
        mybutton.style.display = "block";
      } else {
        mybutton.style.display = "none";
      }
    }
    
    // When the user clicks on the button, scroll to the top of the document
    function topFunction() {
      document.body.scrollTop = 0;
      document.documentElement.scrollTop = 0;
    }
    </script>


{% endblock %}